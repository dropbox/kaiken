apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'
apply plugin: 'com.squareup.anvil'
apply plugin: 'app.cash.molecule'

dependencies {
    implementation deps.androidx_fragment
    implementation deps.appcompat
    implementation deps.constraint_layout
    implementation deps.javax_inject

    implementation project(":scoping")
    implementation project(":annotations")
    api project(":skeleton")
    implementation deps.coroutines

    api project(":runtime")

    implementation deps.dagger2
    kapt deps.dagger2_compiler

    anvil project(":processor")

    // Integration with activities
    api 'androidx.activity:activity-compose:1.3.1'
    // Compose Material Design
    api 'androidx.compose.material:material:1.0.5'
    // Animations
    api 'androidx.compose.animation:animation:1.0.5'
    // Tooling support (Previews, etc.)
    api 'androidx.compose.ui:ui-tooling:1.0.5'
    // Integration with ViewModels
    api 'androidx.lifecycle:lifecycle-viewmodel-compose:1.0.0-alpha07'

    implementation "androidx.navigation:navigation-compose:2.4.0-beta02"

    // UI Tests
    androidTestImplementation 'androidx.compose.ui:ui-test-junit4:1.0.5'
}

android {
    packagingOptions {
        exclude 'META-INF/annotations.kotlin_module'
    }
    buildFeatures {
        // Enables Jetpack Compose for this module
        compose true
    }
    // Set both the Java and Kotlin compilers to target Java 8.
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = "1.8"
    }

    composeOptions {
        kotlinCompilerExtensionVersion '1.0.5'
    }
}